$id: http://qubership.org/schemas/product/qip/element/element.schema.yaml
$schema: http://json-schema.org/draft-07/schema
type: object
oneOf:
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - &ref_11
        type: object
        allOf:
          - type: object
            title: Common Entity Properties
            properties:
              id:
                type: string
                title: Identifier
              name:
                type: string
                title: Name
            required:
              - id
              - name
          - type: object
            title: Entity with description
            properties:
              description:
                type: string
                title: Description
          - type: object
            properties:
              swimlaneId:
                type: string
    title: AsyncAPI Trigger
    description: Receives a call from a service registered in API Repository
    properties:
      type:
        type: string
        const: async-api-trigger
      properties:
        type: object
        allOf:
          - &ref_19
            $schema: http://json-schema.org/draft-07/schema
            type: object
            title: Idempotency properties
            properties:
              idempotency:
                allOf:
                  - &ref_1
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        title: Enable idempotency
                        default: false
                      keyExpiry:
                        allOf:
                          - &ref_0
                            oneOf:
                              - type: integer
                                minimum: 0
                              - type: string
                                pattern: ^[0-9]+$
                              - type: string
                                pattern: ^#\{[a-zA-Z0-9:._-]+\}$
                        title: Key expiration time (seconds)
                        default: 600
                      contextExpression:
                        type: string
                        title: Context expression
                      keyExpression:
                        type: string
                        title: Key expression
                      actionOnDuplicate:
                        enum:
                          - ignore
                          - throw-exception
                          - execute-subchain
                        title: Action on duplicate message
                        default: ignore
                    if:
                      properties:
                        enabled:
                          const: true
                    then:
                      required:
                        - contextExpression
                        - keyExpression
                if:
                  properties:
                    enabled:
                      const: true
                    actionOnDuplicate:
                      const: execute-subchain
                  required:
                    - enabled
                    - actionOnDuplicate
                then:
                  allOf:
                    - &ref_2
                      type: object
                      properties:
                        chainTriggerParameters:
                          title: Subchain execution parameters
                          type: object
                          additionalProperties: false
                          properties: &ref_3
                            triggerElementId:
                              type: string
                              title: Chain trigger
                            chainCallTimeout:
                              allOf:
                                - *ref_0
                              title: Timeout (ms)
                              default: 30000
                          required: &ref_4
                            - triggerElementId
                      required:
                        - chainTriggerParameters
            definitions:
              CommonIdempotencyProperties: *ref_1
              ExecuteSubchainProperties: *ref_2
              ChainTriggerParameters:
                type: object
                title: Subchain execution parameters
                additionalProperties: false
                properties: *ref_3
                required: *ref_4
        properties:
          after:
            type: array
            title: Request validation schemas
            items: &ref_5
              type: object
              properties:
                code:
                  type: string
                label:
                  type: string
              additionalProperties: false
              required:
                - code
                - label
                - schema
          asyncValidationSchema:
            type: string
            title: Response validation schema
          requestFilterHeaderAllowlist:
            title: Filtered headers list
            $schema: http://json-schema.org/draft-07/schema
            type: object
            patternProperties: &ref_14
              ^.+$:
                type: string
          integrationOperationId:
            type: string
            title: Operation ID
          integrationSpecificationGroupId:
            type: string
            title: Specification group ID
          integrationSpecificationId:
            type: string
            title: Specification ID
          integrationSystemId:
            type: string
            title: Service ID
          systemType:
            title: Service type
            enum: &ref_20
              - INTERNAL
              - EXTERNAL
              - IMPLEMENTED
          integrationOperationProtocolType:
            title: Operation protocol type
            enum: &ref_6
              - kafka
              - amqp
          integrationOperationMethod:
            title: Operation method
            enum: &ref_7
              - subscribe
              - publish
          integrationOperationPath:
            type: string
            title: Operation name
        if:
          properties:
            integrationOperationProtocolType:
              const: kafka
        then:
          properties:
            reconnectDelay:
              allOf:
                - *ref_0
              title: Reconnection delay (ms)
              default: 30000
            integrationOperationAsyncProperties: &ref_8
              type: object
              additionalProperties: true
        else:
          properties:
            integrationOperationAsyncProperties: &ref_9
              type: object
              properties:
                acknowledgeMode: &ref_10
                  enum:
                    - NONE
                    - MANUAL
                    - AUTO
              additionalProperties: true
    definitions:
      RequestValidation: *ref_5
      Protocol:
        enum: *ref_6
      Method:
        enum: *ref_7
      KafkaProperties: *ref_8
      AmqpProperties: *ref_9
      AcknowledgeMode: *ref_10
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Chain Call
    properties:
      type:
        type: string
        const: chain-call-2
      properties:
        type: object
        properties:
          elementId:
            type: string
            title: Reference to chain trigger
          timeout:
            allOf:
              - *ref_0
            title: Timeout (ms)
            default: 30000
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Chain Trigger
    properties:
      type:
        type: string
        const: chain-trigger-2
      properties:
        type: object
        properties:
          elementId:
            type: string
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Checkpoint
    properties:
      type:
        type: string
        const: checkpoint
      properties:
        type: object
        properties:
          checkpointElementId:
            type: string
          contextPath:
            type: string
          externalRoute:
            type: boolean
            const: false
          httpMethodRestrict:
            type: string
            const: POST
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Circuit Breaker
    properties:
      type:
        type: string
        const: circuit-breaker-2
      children:
        type: array
        items:
          anyOf:
            - type: object
            - type: object
      properties:
        type: object
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Condition
    properties:
      type:
        type: string
        const: condition
      children:
        type: array
        items:
          anyOf:
            - type: object
            - type: object
      properties:
        type: object
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: File Read
    properties:
      type:
        type: string
        const: file-read
      properties:
        type: object
        additionalProperties: false
        properties:
          antInclude:
            type: string
            title: File Name (mask supported)
        required:
          - antInclude
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: File Write
    properties:
      type:
        type: string
        const: file-write
      properties:
        type: object
        properties:
          allowNullBody:
            type: boolean
            title: Allow null body
            default: true
          fileName:
            type: string
            title: File Name
        required:
          - fileName
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: GraphQL Sender
    properties:
      type:
        type: string
        const: graphql-sender
      properties:
        type: object
        allOf:
          - &ref_15
            $schema: http://json-schema.org/draft-07/schema
            type: object
            title: Correlation ID properties
            properties:
              receiveCorrelationId:
                type: boolean
                title: Receive correlation ID
                default: false
            if:
              properties:
                receiveCorrelationId:
                  const: true
              required:
                - receiveCorrelationId
            then:
              allOf:
                - &ref_13
                  type: object
                  properties:
                    correlationIdPosition:
                      title: Correlation ID position
                      enum: &ref_12
                        - header
                        - body
                    correlationIdName:
                      type: string
                      title: Correlation ID name
                  required:
                    - correlationIdPosition
                    - correlationIdName
            definitions:
              CorrelationIdPosition:
                enum: *ref_12
              CorrelationIdProperties: *ref_13
          - &ref_16
            $schema: http://json-schema.org/draft-07/schema
            type: object
            title: Context propagation properties
            properties:
              propagateContext:
                type: boolean
                title: Propagate context
                description: Propagate context to headers before sending message.
                default: true
              overrideContextParams:
                title: Override technical context headers
                description: Propagate props to headers before sending message.
                $schema: http://json-schema.org/draft-07/schema
                type: object
                patternProperties: *ref_14
          - &ref_17
            $schema: http://json-schema.org/draft-07/schema
            type: object
            title: Common HTTP call properties
            properties:
              isExternalCall:
                type: boolean
                title: External call
                description: >
                  External - http and https requests allowed (through egress
                  gateway). Internal - only http, direct call.
                default: true
              m2m:
                type: boolean
                title: Enable M2M security
                description: |
                  Specifies whether M2M token should be used to make a call.
                default: false
              reuseEstablishedConnection:
                type: boolean
                title: Reuse established connection
                description: >
                  If checked - HTTP client will use the connection for multiple
                  requests.
                default: true
              uri:
                type: string
                title: Server URI
                description: 'Server URI, format: https://example.com/foo/bar'
            required:
              - uri
        properties:
          operationName:
            type: string
            title: Operation name
            description: >
              The query or mutation name. Optional if query contains single
              operation
          query:
            type: string
            title: Query
            description: The query text
          queryHeader:
            type: string
            title: Query header
            default: CamelGraphQLQuery
          variablesHeader:
            type: string
            title: Variables header
            default: CamelGraphQLVariables
          variablesJSON:
            type: string
            title: Variables JSON
            description: Operation variables in JSON format.
        required:
          - query
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Header Modification
    properties:
      type:
        type: string
        const: header-modification
      properties:
        type: object
        properties:
          headerModificationToAdd:
            title: Headers to keep or add
            description: |
              List of header names and values which we need to add or keep.
            $schema: http://json-schema.org/draft-07/schema
            type: object
            patternProperties: *ref_14
          headerModificationToRemove:
            type: array
            title: Headers to remove
            description: List of header names which we need to remove.
            items:
              type: string
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Http Sender
    properties:
      type:
        type: string
        const: http-sender
      properties:
        type: object
        allOf:
          - *ref_15
          - *ref_16
          - *ref_17
        properties:
          httpMethod:
            title: HTTP Method
            description: HTTP method
            enum: &ref_18
              - POST
              - GET
              - PUT
              - DELETE
              - PATCH
              - HEAD
              - OPTIONS
          connectTimeout:
            allOf:
              - *ref_0
            title: Connection timeout (ms)
            description: >
              Specifies connection timeout in millis (default value will be used
              if nothing is given).
            default: 120000
        required:
          - httpMethod
    definitions:
      HttpMethod:
        enum: *ref_18
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Http Trigger
    description: >
      HTTP Trigger provides an HTTP endpoint for consuming arriving HTTP
      requests.
    properties:
      type:
        type: string
        const: http-trigger
      properties:
        type: object
        allOf:
          - *ref_15
          - *ref_19
          - &ref_23
            type: object
            properties:
              accessControlType:
                title: Access Control Type
                default: RBAC
                type: string
                enum:
                  - RBAC
                  - ABAC
            required:
              - accessControlType
            if:
              properties:
                accessControlType:
                  const: RBAC
            then:
              properties:
                roles:
                  title: Roles
                  type: array
                  items:
                    type: string
              required:
                - roles
            else:
              properties:
                abacResource:
                  type: string
                  title: Resource
                  description: ABAC resource, usually the same as the trigger URI.
              required:
                - abacResource
          - oneOf:
              - &ref_24
                title: Custom Endpoint
                type: object
                properties:
                  contextPath:
                    type: string
                    title: Path
                  httpMethodRestrict:
                    type: string
                    title: HTTP Methods
                    pattern: >-
                      ^(POST|GET|PUT|DELETE|PATCH|HEAD|OPTIONS)(,(POST|GET|PUT|DELETE|PATCH|HEAD|OPTIONS))*$
                required:
                  - contextPath
              - &ref_25
                title: Implemented Service Endpoint
                type: object
                properties:
                  integrationOperationId:
                    type: string
                    title: Operation ID
                  integrationSpecificationGroupId:
                    type: string
                    title: Specification group ID
                  integrationSpecificationId:
                    type: string
                    title: Specification ID
                  integrationSystemId:
                    type: string
                    title: Service ID
                  systemType:
                    title: Service type
                    enum: *ref_20
                  integrationOperationMethod:
                    type: string
                    title: Operation method
                  integrationOperationPath:
                    type: string
                    title: Operation name
                required:
                  - integrationOperationPath
          - &ref_26
            type: object
            required:
              - handleValidationAction
            properties:
              handleValidationAction:
                type: string
                enum:
                  - default
                  - script
                  - mapper-2
                default: default
                title: Action on validation failure
              handlerContainer:
                type: object
            allOf:
              - if:
                  properties:
                    handleValidationAction:
                      const: script
                then:
                  required:
                    - handlerContainer
                  properties:
                    handlerContainer: &ref_21
                      type: object
                      properties:
                        exportFileExtension:
                          type: string
                          const: groovy
                        propertiesToExportInSeparateFile:
                          type: string
                          const: script
                        propertiesFilename:
                          type: string
                          title: Script resource reference
                        script:
                          type: string
                          title: Script
              - if:
                  properties:
                    handleValidationAction:
                      const: mapper-2
                then:
                  required:
                    - handlerContainer
                  properties:
                    handlerContainer: &ref_22
                      type: object
                      properties:
                        exportFileExtension:
                          type: string
                          const: json
                        propertiesToExportInSeparateFile:
                          type: string
                          const: mappingDescription
                        propertiesFilename:
                          type: string
                          title: Mapper resource reference
                        throwException:
                          type: boolean
                          title: Throw exception on transformation failure
                          description: Throw exception on transformation failure.
                          default: true
                        mappingDescription:
                          type: object
              - if:
                  properties:
                    handleValidationAction:
                      const: default
                then:
                  properties:
                    handlerContainer:
                      type: object
          - &ref_27
            type: object
            required:
              - handleChainFailureAction
            properties:
              handleChainFailureAction:
                type: string
                enum:
                  - default
                  - script
                  - mapper-2
                  - chain-call
                default: default
                title: Action on response failure
              chainFailureHandlerContainer:
                type: object
            allOf:
              - if:
                  properties:
                    handleChainFailureAction:
                      const: script
                then:
                  required:
                    - chainFailureHandlerContainer
                  properties:
                    chainFailureHandlerContainer: *ref_21
              - if:
                  properties:
                    handleChainFailureAction:
                      const: mapper-2
                then:
                  required:
                    - chainFailureHandlerContainer
                  properties:
                    chainFailureHandlerContainer: *ref_22
              - if:
                  properties:
                    handleChainFailureAction:
                      const: chain-call
                then:
                  required:
                    - chainFailureHandlerContainer
                  properties:
                    chainFailureHandlerContainer:
                      type: object
                      properties:
                        elementId:
                          type: string
                      required:
                        - elementId
                      additionalProperties: false
              - if:
                  properties:
                    handleChainFailureAction:
                      const: default
                then:
                  required:
                    - chainFailureHandlerContainer
                  properties:
                    chainFailureHandlerContainer:
                      type: object
        properties:
          chunked:
            type: boolean
            default: true
            title: Chunked
            description: >
              If this option is false the Servlet will disable the HTTP
              streaming and set the content-length header on the response.
          externalRoute:
            type: boolean
            default: true
            title: External route
            description: >
              If checked, HTTP trigger will be registered as "external" on
              public gateway. Checkbox is inactive when default route
              registration is disabled in global environment settings.
          privateRoute:
            type: boolean
            default: false
            title: Private route
            description: >
              If checked, HTTP trigger will be registered as "Private" on
              private gateway. Checkbox is inactive when default route
              registration is disabled in global environment settings.
          responseFilter:
            type: boolean
            title: Response filter
            description: >
              Turns on ability to handle additional query parameters "fields"
              and "excludeFields" to include only specific fields in response or
              exclude them from there. This is only supported for responses in
              JSON.
          connectTimeout:
            oneOf:
              - *ref_0
              - &ref_29
                type: string
                pattern: \$\{[^}]+\}
            title: Connection timeout (ms)
            description: >
              Specifies connection timeout in millis (default value will be used
              if nothing is given).
            default: 120000
          killSessionOnTimeout:
            type: boolean
            default: false
            title: Terminate session on connection timeout
            description: >
              If checked, connection timeout will trigger session termination
              process. Chain session might not be finished.
          rejectRequestIfNonNullBodyGetDelete:
            type: boolean
            default: true
            title: Reject request if body is not empty for GET, DELETE methods
            description: >
              Incoming request will be rejected with an error, if body is
              received for GET and DELETE methods.
          allowedContentTypes:
            type: array
            items:
              type: string
            title: Allowed Content Types
            description: If no content types defined - validation disabled.
          validationSchema:
            type: string
            title: Json Request Schema
            description: Schema for input message validation.
          httpBinding:
            type: string
            default: handlingHttpBinding
    definitions:
      AccessControlProperties: *ref_23
      CustomEndpoint: *ref_24
      ImplementedServiceEndpoint: *ref_25
      ValidationFailureHandler: *ref_26
      ChainFailureHandler: *ref_27
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Kafka Sender
    description: Produce message in kafka
    properties:
      type:
        type: string
        const: kafka-sender-2
      properties:
        type: object
        allOf:
          - &ref_28
            $schema: http://json-schema.org/draft-07/schema
            type: object
            title: Kafka connection parameters
            properties:
              connectionSourceType:
                title: Connection source type
                enum:
                  - maas
                  - manual
              sslProtocol:
                enum:
                  - TLS
                  - TLSv1.1
                  - TLSv1.2
                  - TLSv1.3
                default: TLS
                title: SSL Protocol
                description: >
                  The SSL protocol used to generate the SSLContext. Default
                  setting is TLS, which is fine for most cases.
              sslEndpointAlgorithm:
                type: string
                title: SSL endpoint algorithm
                description: >
                  The endpoint identification algorithm to validate server
                  hostname using server certificate.
            if:
              properties:
                connectionSourceType:
                  const: maas
            then:
              properties:
                topicsClassifierName:
                  type: string
                  title: Topic Classifier Name
                maasClassifierNamespace:
                  type: string
                  title: Topic Classifier Namespace
                  description: >
                    MaaS topic classifier namespace. By default used current
                    namespace.
                maasClassifierTenantEnabled:
                  type: boolean
                  title: Tenant topic enabled
                  description: Override default tenant id if classifier tenant enabled.
                  default: false
              if:
                properties:
                  maasClassifierTenantEnabled:
                    const: true
                required:
                  - maasClassifierTenantEnabled
              then:
                properties:
                  maasClassifierTenantId:
                    type: string
                    title: Classifier Tenant ID
                    description: Override default tenant id if classifier tenant enabled.
              required:
                - topicsClassifierName
            else:
              properties:
                brokers:
                  type: string
                  title: Brokers
                topics:
                  type: string
                  title: Topics
                  description: >
                    Topics name. Must be present in kafka, auto-creation
                    disabled.
                securityProtocol:
                  enum:
                    - PLAINTEXT
                    - SASL_PLAINTEXT
                    - SASL_SSL
                    - SSL
                  default: PLAINTEXT
                  title: Security Protocol
                  description: Protocol used to communicate with brokers.
                saslMechanism:
                  enum:
                    - 9798-M-DSA-SHA1
                    - 9798-M-ECDSA-SHA1
                    - 9798-M-RSA-SHA1-ENC
                    - 9798-U-DSA-SHA1
                    - 9798-U-ECDSA-SHA1
                    - 9798-U-RSA-SHA1-ENC
                    - ANONYMOUS
                    - CRAM-MD5
                    - DIGEST-MD5
                    - EAP-AES128
                    - EAP-AES128-PLUS
                    - ECDH-X25519-CHALLENGE[1]
                    - ECDSA-NIST256P-CHALLENGE[1]
                    - EXTERNAL
                    - GS2-KRB5
                    - GS2-KRB5-PLUS
                    - GSS-SPNEGO
                    - GSSAPI
                    - KERBEROS_V4
                    - KERBEROS_V5
                    - LOGIN
                    - NMAS_AUTHEN
                    - NMAS_LOGIN
                    - NMAS-SAMBA-AUTH
                    - NTLM
                    - OAUTH10A
                    - OAUTHBEARER
                    - OPENID20
                    - OTP
                    - PLAIN
                    - SAML20
                    - SCRAM-SHA-1
                    - SCRAM-SHA-1-PLUS
                    - SCRAM-SHA-256
                    - SCRAM-SHA-256-PLUS
                    - SCRAM-SHA-512
                    - SECURID
                    - SKEY
                    - SPNEGO
                    - SPNEGO-PLUS
                    - XOAUTH
                    - XOAUTH2
                  default: GSSAPI
                  title: SASL Mechanism
                  description: >
                    The Simple Authentication and Security Layer (SASL)
                    Mechanism used.
                saslJaasConfig:
                  type: string
                  title: SASL JAAS Config
                  description: >
                    Expose the kafka sasl.jaas.config parameter Example:
                    org.apache.kafka.common.security.plain.PlainLoginModule
                    required username=example password=example;
              required:
                - brokers
                - securityProtocol
                - saslMechanism
                - topics
            required:
              - connectionSourceType
              - sslProtocol
          - *ref_16
        properties:
          key:
            type: string
            title: Key
            description: Record key
          keySerializer:
            anyOf:
              - type: string
              - enum:
                  - org.apache.kafka.common.serialization.ByteArraySerializer
                  - org.apache.kafka.common.serialization.ByteBufferSerializer
                  - org.apache.kafka.common.serialization.BytesSerializer
                  - org.apache.kafka.common.serialization.DoubleSerializer
                  - org.apache.kafka.common.serialization.FloatSerializer
                  - org.apache.kafka.common.serialization.IntegerSerializer
                  - org.apache.kafka.common.serialization.LongSerializer
                  - org.apache.kafka.common.serialization.ShortSerializer
                  - org.apache.kafka.common.serialization.StringSerializer
                  - org.apache.kafka.common.serialization.UUIDSerializer
                  - org.apache.kafka.common.serialization.VoidSerializer
            default: org.apache.kafka.common.serialization.StringSerializer
            title: Key Serializer
            description: >
              The serializer class for keys (defaults to the same as for
              messages if nothing is given).
          valueSerializer:
            anyOf:
              - type: string
              - enum:
                  - org.apache.kafka.common.serialization.ByteArraySerializer
                  - org.apache.kafka.common.serialization.ByteBufferSerializer
                  - org.apache.kafka.common.serialization.BytesSerializer
                  - org.apache.kafka.common.serialization.DoubleSerializer
                  - org.apache.kafka.common.serialization.FloatSerializer
                  - org.apache.kafka.common.serialization.IntegerSerializer
                  - org.apache.kafka.common.serialization.LongSerializer
                  - org.apache.kafka.common.serialization.ShortSerializer
                  - org.apache.kafka.common.serialization.StringSerializer
                  - org.apache.kafka.common.serialization.UUIDSerializer
                  - org.apache.kafka.common.serialization.VoidSerializer
            default: org.apache.kafka.common.serialization.StringSerializer
            title: Message serializer class
            description: The serializer class for messages
        required:
          - keySerializer
          - valueSerializer
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Kafka Trigger
    description: Trigger, that start chain after receiving kafka message.
    properties:
      type:
        type: string
        const: kafka-trigger-2
      properties:
        type: object
        allOf:
          - *ref_28
          - *ref_19
        properties:
          groupId:
            type: string
            title: Group ID
            description: The ID of the group the Producer is assigned to.
          reconnectBackoffMaxMs:
            allOf:
              - *ref_0
            title: Reconnect delay (ms)
            description: Specifies delay between reconnection in millis.
            default: 30000
          autoOffsetReset:
            enum:
              - none
              - earliest
              - latest
            title: Auto Offset Reset
            description: The schema to adjust the message outset.
            default: latest
          consumersCount:
            allOf:
              - *ref_0
            default: 1
            title: Consumers Count
            description: The number of consumers that connect to kafka server.
          keyDeserializer:
            anyOf:
              - type: string
              - enum:
                  - org.apache.kafka.common.serialization.ByteArrayDeserializer
                  - org.apache.kafka.common.serialization.ByteBufferDeserializer
                  - org.apache.kafka.common.serialization.BytesDeserializer
                  - org.apache.kafka.common.serialization.DoubleDeserializer
                  - org.apache.kafka.common.serialization.FloatDeserializer
                  - org.apache.kafka.common.serialization.IntegerDeserializer
                  - org.apache.kafka.common.serialization.LongDeserializer
                  - org.apache.kafka.common.serialization.ShortDeserializer
                  - org.apache.kafka.common.serialization.StringDeserializer
                  - org.apache.kafka.common.serialization.UUIDDeserializer
                  - org.apache.kafka.common.serialization.VoidDeserializer
            default: org.apache.kafka.common.serialization.StringDeserializer
            title: Key Deserializer
            description: Key deserializer class
          valueDeserializer:
            anyOf:
              - type: string
              - enum:
                  - org.apache.kafka.common.serialization.ByteArrayDeserializer
                  - org.apache.kafka.common.serialization.ByteBufferDeserializer
                  - org.apache.kafka.common.serialization.BytesDeserializer
                  - org.apache.kafka.common.serialization.DoubleDeserializer
                  - org.apache.kafka.common.serialization.FloatDeserializer
                  - org.apache.kafka.common.serialization.IntegerDeserializer
                  - org.apache.kafka.common.serialization.LongDeserializer
                  - org.apache.kafka.common.serialization.ShortDeserializer
                  - org.apache.kafka.common.serialization.StringDeserializer
                  - org.apache.kafka.common.serialization.UUIDDeserializer
                  - org.apache.kafka.common.serialization.VoidDeserializer
            default: org.apache.kafka.common.serialization.StringDeserializer
            title: Value Deserializer
            description: Value deserializer class
          maxPollIntervalMs:
            allOf:
              - *ref_0
            default: 300000
            title: Max Poll Interval
            description: >
              The maximum delay between batch polls of records from the broker,
              in milliseconds. If poll is not performed within given time frame,
              then the consumer is considered to be failed. In case of failure
              detection, related consumer group will re-balance to reassign the
              partitions to another consumer in the group. This "new" consumer
              will process the whole batch all over again.
          maxPollRecords:
            allOf:
              - *ref_0
            default: 500
            title: Max Poll Records
            description: >
              The number of records that will be fetched from the broker as a
              single batch.
        required:
          - autoOffsetReset
          - groupId
          - keyDeserializer
          - valueDeserializer
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Log Record
    description: >
      Log Record element allows to configure a message that will be logged for
      selected logging level.
    properties:
      type:
        type: string
        const: log-record
      properties:
        type: object
        properties:
          logLevel:
            title: Log Level
            description: >
              Specifies the type of the message that will be logged to
              microservice log.
            enum:
              - Error
              - Warning
              - Info
            default: Error
          sender:
            type: string
            title: Sender
            description: Specifies custom system name that sends a request.
          receiver:
            type: string
            title: Receiver
            description: Specifies custom system name that accepts a request.
          businessIdentifiers:
            type: object
            title: Business Identifiers
            description: List of business identifiers to be logged.
            patternProperties:
              ^.+$:
                type: string
          message:
            type: string
            title: Message
            description: A custom message to be logged
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
      - &ref_57
        $schema: http://json-schema.org/draft-07/schema
        type: object
        title: Container element
        properties:
          children:
            type: array
            title: Child elements
            items:
              type: object
    title: Loop
    properties:
      type:
        type: string
        const: loop-2
      properties:
        type: object
        properties:
          expression:
            type: string
            title: Expression
          doWhile:
            type: boolean
            title: Expression is used
          copy:
            type: boolean
            title: Copy start context each iteration
          loopIndexPropertyName:
            type: string
            title: Loop iteration index property
            description: >
              If set, holds a name of the property storing zero-based index of
              the current iteration. The property holding iteration index is
              removing after loop exits.
          maxLoopIteration:
            oneOf:
              - *ref_0
              - *ref_29
            title: Maximum iteration count
            description: >
              When specified number of iterations is reached, chain stops
              processing and throw an error.
            default: 1500
        required:
          - expression
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Mail Sender
    properties:
      type:
        type: string
        const: mail-sender
      properties:
        type: object
        allOf:
          - *ref_16
        properties:
          url:
            type: string
            title: URL
            description: >
              Mail server URI in format: {protocol}://{host}:{port}. Supported
              protocols are SMTP and SMTPS (secure variant of SMTP layered over
              SSL). Default ports are 25 for SMTP, and 465 for SMTPS.
          from:
            type: string
            title: From
            description: The From email address.
          to:
            title: To
            description: >
              The To email addresses. Setting the To email addresses in the
              header takes precedence over this option. In this case any CC and
              BCC settings are also retrieved from headers.
            type: array
            items: &ref_30
              type: string
          replyTo:
            title: Reply-To
            description: |
              The Reply-To recipients (the receivers of the response mail).
            type: array
            items: *ref_30
          cc:
            title: CC
            description: The CC email address.
            type: array
            items: *ref_30
          bcc:
            title: BCC
            description: The BCC email address.
            type: array
            items: *ref_30
          subject:
            type: string
            title: Subject
            description: >
              The Subject of the message being sent. Setting the subject in the
              header takes precedence over this option.
          username:
            type: string
            title: Username
            description: The username for login.
          password:
            type: string
            title: Password
            description: >
              The password for login. For security purposes, use reference to
              secured variables when entering passwords.
          connectionTimeout:
            allOf:
              - *ref_0
            title: Connection timeout (ms)
            description: >
              Connection timeout in millis (default value will be used if
              nothing is given).
            default: 30000
          contentType:
            type: string
            title: Content Type
            description: |
              The mail message content type. Use text/html for HTML mails.
            default: text/plain
          alternativeBodyHeader:
            type: string
            title: Alternative body header
            description: >
              Specifies the header that contains an alternative email body. For
              example, if you send emails in text/html format and want to
              provide an alternative mail body for non-HTML email clients, set
              the alternative mail body with this key as a header.
          useInlineAttachments:
            type: boolean
            title: Use inline attachments
            description: Whether to use disposition inline or attachment.
          ignoreUnsupportedCharset:
            type: boolean
            title: Ignore unsupported charset
            description: >
              Ignore unsupported charset in the local JVM when sending mails. If
              the charset is unsupported then charset=XXX (where XXX represents
              the unsupported charset) is removed from the content-type and it
              relies on the platform default instead.
        required:
          - from
          - url
    definitions:
      AddressList:
        type: array
        items: *ref_30
      Address: *ref_30
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Mapper
    description: Performs mapping between two entities.
    properties:
      type:
        type: string
        const: mapper-2
      properties: *ref_22
    definitions:
      MapperParameters: *ref_22
      Metadata: &ref_31
        type: object
        title: Metadata
        patternProperties:
          ^.+$:
            type: string
      MetadataAware: &ref_34
        type: object
        title: Object with metadata
        properties:
          metadata: *ref_31
      DataType: &ref_32
        type: object
        oneOf:
          - type: object
          - type: object
          - type: object
          - type: object
          - type: object
          - type: object
          - type: object
          - type: object
          - type: object
          - type: object
      TypeDefinition: &ref_33
        type: object
        properties:
          id:
            type: string
          name:
            type: string
          type: *ref_32
        required:
          - id
          - name
          - type
      TypeDefinitionsAware: &ref_35
        type: object
        properties:
          definitions:
            type: array
            items: *ref_33
      NullType:
        type: object
        allOf:
          - *ref_34
        properties:
          name:
            const: null
      StringType:
        type: object
        allOf:
          - *ref_34
        properties:
          name:
            const: string
      IntegerType:
        type: object
        allOf:
          - *ref_34
        properties:
          name:
            const: number
      BooleanType:
        type: object
        allOf:
          - *ref_34
        properties:
          name:
            const: boolean
      ArrayType:
        type: object
        allOf:
          - *ref_34
          - *ref_35
        properties:
          name:
            const: array
          itemType: *ref_32
      ObjectType:
        type: object
        allOf:
          - *ref_34
          - *ref_35
        properties:
          name:
            const: object
          schema: &ref_37
            type: object
            allOf:
              - *ref_34
            properties:
              id:
                type: string
              attributes:
                type: array
                items: &ref_43
                  type: object
                  allOf:
                    - &ref_42
                      type: object
                      allOf:
                        - *ref_34
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        type: *ref_32
                      required:
                        - id
                        - type
                        - name
                  properties:
                    defaultValue:
                      type: string
                    required:
                      type: boolean
                      default: false
      ReferenceType:
        type: object
        allOf:
          - *ref_34
          - *ref_35
        properties:
          name:
            const: reference
          definitionId:
            type: string
      CompoundType: &ref_36
        type: object
        allOf:
          - *ref_34
          - *ref_35
        properties:
          types:
            type: array
            items: *ref_32
      AllOfType:
        type: object
        allOf:
          - *ref_36
        properties:
          name:
            const: allOf
      AnyOfType:
        type: object
        allOf:
          - *ref_36
        properties:
          name:
            const: anyOf
      OneOfType:
        type: object
        allOf:
          - *ref_36
        properties:
          name:
            const: oneOf
      ObjectSchema: *ref_37
      ConstantReference: &ref_38
        type: object
        allOf:
          - *ref_34
        properties:
          type:
            const: constant
          constantId:
            type: string
      AttributeReference: &ref_39
        type: object
        allOf:
          - *ref_34
        properties:
          type:
            const: attribute
          kind:
            enum:
              - header
              - property
              - body
          path:
            type: array
            title: Path
            items:
              type: string
      MappingActionSource: &ref_40
        type: object
        oneOf:
          - *ref_38
          - *ref_39
      Transformation: &ref_41
        type: object
        allOf:
          - *ref_34
        properties:
          name:
            type: string
            title: Name
          parameters:
            type: array
            title: Parameters
            items:
              type: string
        required:
          - name
      MappingAction: &ref_50
        type: object
        allOf:
          - *ref_34
        title: Mapping action
        properties:
          id:
            type: string
          sources:
            type: array
            title: Sources
            items: *ref_40
          target: *ref_39
          transformation: *ref_41
        required:
          - id
          - sources
          - target
      Element: *ref_42
      Attribute: *ref_43
      GivenValue: &ref_45
        type: object
        allOf:
          - *ref_34
        properties:
          kind:
            const: given
          value:
            type: string
        required:
          - kind
          - value
      ValueGenerator: &ref_44
        type: object
        allOf:
          - *ref_34
        properties:
          name:
            type: string
          parameters:
            type: array
            items:
              type: string
        required:
          - name
      GeneratedValue: &ref_46
        type: object
        allOf:
          - *ref_34
        properties:
          kind:
            const: generated
          generator: *ref_44
        required:
          - kind
          - generator
      ValueSupplier: &ref_47
        type: object
        oneOf:
          - *ref_45
          - *ref_46
      Constant: &ref_49
        type: object
        allOf:
          - *ref_42
        properties:
          valueSupplier: *ref_47
      MessageSchema: &ref_48
        type: object
        allOf:
          - *ref_34
        properties:
          headers:
            type: array
            title: Headers
            items: *ref_43
          properties:
            type: array
            title: Properties
            items: *ref_43
          body:
            oneOf:
              - *ref_32
              - type: 'null'
      MappingDescription:
        type: object
        allOf:
          - *ref_34
        properties:
          source: *ref_48
          target: *ref_48
          constants:
            type: array
            title: Constants
            items: *ref_49
          actions:
            type: array
            title: Actions
            items: *ref_50
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: PubSub Sender
    properties:
      type:
        type: string
        const: pubsub-sender
      properties:
        type: object
        allOf:
          - *ref_16
        properties:
          projectId:
            type: string
            title: Project id
            description: The Google Cloud PubSub Project ID.
          destinationName:
            type: string
            title: Destination name
            description: Subscription name
          serviceAccountKey:
            type: string
            title: Service account key
            description: >
              The Service account key that can be used as credentials for the
              PubSub publisher/subscriber. Must be specified as a base64 encoded
              ServiceAccount json file.
          lazyStartProducer:
            type: boolean
            title: Lazy start producer
            description: >
              Whether the producer should be started lazy (on the first
              message).
            default: false
          messageOrderingEnabled:
            type: boolean
            title: Message ordering enabled
            description: Should message ordering be enabled.
            default: false
        if:
          properties:
            messageOrderingEnabled:
              const: true
        then:
          properties:
            orderingKey:
              type: string
              title: Message ordering key
              description: >
                Identifies related messages for which publish order should be
                respected.
        required:
          - projectId
          - destinationName
          - serviceAccountKey
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: PubSub Trigger
    description: Read message from PubSub topic.
    properties:
      type:
        type: string
        const: pubsub-trigger
      properties:
        type: object
        allOf:
          - *ref_19
        properties:
          projectId:
            type: string
            title: Project id
            description: The Google Cloud PubSub Project ID.
          destinationName:
            type: string
            title: Destination name
            description: Subscription name.
          serviceAccountKey:
            type: string
            title: Service account key
            description: >
              The Service account key that can be used as credentials for the
              PubSub publisher/subscriber. Must be specified as a base64 encoded
              ServiceAccount json file.
          maxMessagesPerPoll:
            allOf:
              - *ref_0
            title: Max messages per poll
            description: >
              The max number of messages to receive from the server in a single
              API call.
            default: 1
          synchronousPullRetryableCodes:
            type: array
            title: Retryable error codes
            description: |
              List of additional retryable error codes for synchronous pull.
            items: &ref_52
              enum:
                - ABORTED
                - CANCELLED
                - DEADLINE_EXCEEDED
                - INTERNAL
                - RESOURCE_EXHAUSTED
                - UNKNOWN
                - UNAVAILABLE
          ackMode:
            title: Ack mode
            description: >
              AUTO = exchange gets ack/nack on completion. NONE = downstream
              process has to ack/nack explicitly.
            default: AUTO
            enum: &ref_51
              - AUTO
              - NONE
        required:
          - destinationName
          - projectId
          - serviceAccountKey
    definitions:
      AckMode:
        enum: *ref_51
      ErrorCode: *ref_52
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Scheduler
    properties:
      type:
        type: string
        const: quartz-scheduler
      properties:
        type: object
        properties:
          cron:
            type: string
            title: Cron expression
            description: |
              Quartz cron expression. Example (every 5 minutes): 0 */5 * ? * *
          deleteJob:
            type: boolean
            title: Delete job
            default: false
        required:
          - cron
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: RabbitMQ Sender
    properties:
      type:
        type: string
        const: rabbitmq-sender-2
      properties:
        type: object
        allOf:
          - &ref_53
            $schema: http://json-schema.org/draft-07/schema
            type: object
            title: RabbitMQ connection parameters
            properties:
              connectionSourceType:
                title: Connection source type
                enum:
                  - maas
                  - manual
              exchange:
                type: string
                title: Exchange Name
              routingKey:
                type: string
                title: Routing Key
            if:
              properties:
                connectionSourceType:
                  const: maas
            then:
              properties:
                vhostClassifierName:
                  type: string
                  title: Vhost Classifier Name
                maasClassifierNamespace:
                  type: string
                  title: Topic Classifier Namespace
                  description: >
                    MaaS topic classifier namespace. By default used current
                    namespace.
              required:
                - vhostClassifierName
            else:
              properties:
                addresses:
                  type: string
                  title: Addresses
                username:
                  type: string
                  title: Username
                password:
                  type: string
                  title: Password
                  description: >
                    For security purposes, use reference to secured variables
                    when entering passwords.
              required:
                - addresses
            required:
              - connectionSourceType
              - exchange
          - *ref_16
        properties:
          exchangePattern:
            type: string
            default: InOnly
            title: Exchange Pattern
          vhost:
            type: string
            title: Vhost
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: RabbitMQ Trigger
    properties:
      type:
        type: string
        const: rabbitmq-trigger-2
      properties:
        type: object
        allOf:
          - *ref_53
          - *ref_19
        properties:
          queues:
            type: string
            title: Queue(s) Name
            description: |
              The queue(s) to use for consuming messages (separated by comma).
          acknowledgeMode: &ref_55
            enum:
              - NONE
              - MANUAL
              - AUTO
            default: AUTO
            title: Acknowledge Mode
            description: >
              NONE - no acknowledgment will be sent. MANUAL - immediately send
              an acknowledgment (normal or negative) when message is taken. AUTO
              - send an acknowledgment (normal or negative) after the end of the
              chain.
          exchangeType: &ref_56
            enum: &ref_54
              - direct
              - fanout
              - headers
              - topic
            default: direct
            title: Exchange type
          deadLetterExchange:
            type: string
            title: Dead Letter Exchange
          deadLetterExchangeType:
            enum: *ref_54
            default: direct
            title: Exchange type
          deadLetterQueue:
            type: string
            title: Dead Letter Queue
          deadLetterRoutingKey:
            type: string
            title: Dead Letter Routing Key
          sslProtocol:
            title: SSL
            type: string
          vhost:
            title: Vhost
            type: string
        required:
          - queues
    definitions:
      AcknowledgeMode: *ref_55
      ExchangeType: *ref_56
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Reuse Reference
    properties:
      type:
        type: string
        const: reuse-reference
      properties:
        type: object
        additionalProperties: false
        properties:
          reuseElementId:
            type: string
            title: Reuse Element ID
        required:
          - reuseElementId
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
      - *ref_57
    title: Reuse
    properties:
      type:
        type: string
        const: reuse
      properties:
        type: object
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Script
    description: Executes Groovy Script
    properties:
      type:
        type: string
        const: script
      properties: *ref_21
    definitions:
      ScriptProperties: *ref_21
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Service Call
    description: Make a call to a service registered in API Repository.
    properties:
      type:
        type: string
        const: service-call
      properties:
        type: object
        allOf:
          - $schema: http://json-schema.org/draft-07/schema
            type: object
            title: Operation properties
            oneOf:
              - type: object
                properties:
                  integrationOperationProtocolType:
                    const: kafka
                  integrationOperationMethod:
                    title: Operation method
                    enum: &ref_58
                      - subscribe
                      - publish
                  integrationOperationAsyncProperties:
                    type: object
                    additionalProperties: true
                required:
                  - integrationOperationProtocolType
                  - integrationOperationMethod
              - type: object
                properties:
                  integrationOperationProtocolType:
                    const: amqp
                  integrationOperationMethod:
                    title: Operation method
                    enum: *ref_58
                  integrationOperationAsyncProperties:
                    type: object
                    additionalProperties: true
                required:
                  - integrationOperationProtocolType
                  - integrationOperationMethod
              - type: object
                oneOf:
                  - type: object
                    properties:
                      integrationOperationProtocolType:
                        const: http
                  - type: object
                    properties:
                      integrationOperationProtocolType:
                        const: soap
                properties:
                  integrationOperationMethod:
                    title: Operation method
                    enum: &ref_60
                      - POST
                      - GET
                      - PUT
                      - DELETE
                      - PATCH
                      - HEAD
                      - OPTIONS
                  integrationOperationPathParameters:
                    type: object
                    patternProperties:
                      ^.*$:
                        type: string
                  integrationOperationQueryParameters:
                    type: object
                    patternProperties:
                      ^.*$:
                        type: string
                  integrationAdditionalParameters:
                    type: object
                    patternProperties:
                      ^.*$:
                        type: string
                  bodyMimeType:
                    type: string
                  bodyFormData:
                    type: array
                    items:
                      type: object
                      properties:
                        fieldName:
                          type: string
                        mimeType:
                          type: string
                        name:
                          type: string
                        value:
                          type: string
                        fileName:
                          type: string
                      required:
                        - mimeType
                        - name
                        - value
                required:
                  - integrationOperationProtocolType
                  - integrationOperationMethod
              - type: object
                properties:
                  integrationOperationProtocolType:
                    const: graphql
                  integrationGqlOperationName:
                    type: string
                    title: Operation Name
                    description: >
                      The query or mutation name. Optional if query contains
                      single operation.
                  integrationGqlQuery:
                    type: string
                    title: Query
                    description: The query text.
                  integrationGqlQueryHeader:
                    type: string
                    default: CamelGraphQLQuery
                    title: Query header
                  integrationGqlVariablesHeader:
                    type: string
                    default: CamelGraphQLVariables
                    title: Variables header
                  integrationGqlVariablesJSON:
                    type: string
                    title: Variables JSON
                    description: Operation variables in JSON format.
                required:
                  - integrationOperationProtocolType
                  - integrationGqlQuery
            properties:
              integrationOperationId:
                type: string
                title: Operation ID
              integrationSpecificationGroupId:
                type: string
                title: Specification group ID
              integrationSpecificationId:
                type: string
                title: Specification ID
              integrationSystemId:
                type: string
                title: Service ID
              systemType:
                title: Service type
                enum: *ref_20
              integrationOperationProtocolType:
                title: Operation protocol type
                enum: &ref_59
                  - http
                  - kafka
                  - amqp
                  - graphql
                  - grpc
                  - soap
              integrationOperationMethod:
                title: Operation method
              integrationOperationPath:
                type: string
                title: Operation name
            required:
              - integrationOperationId
              - integrationSpecificationGroupId
              - integrationSpecificationId
              - integrationSystemId
              - systemType
              - integrationOperationProtocolType
              - integrationOperationPath
              - integrationOperationMethod
            definitions:
              Protocol:
                enum: *ref_59
              HttpMethod:
                enum: *ref_60
              AsyncMethod:
                enum: *ref_58
          - *ref_15
          - *ref_16
          - &ref_67
            type: object
            properties:
              handleValidationAction:
                type: string
                enum:
                  - default
                  - script
                  - mapper-2
                default: default
            if:
              properties:
                handleValidationAction:
                  const: script
              required:
                - handleValidationAction
            then:
              properties:
                handlerContainer: *ref_21
              required:
                - handlerContainer
            else:
              if:
                properties:
                  handleValidationAction:
                    const: mapper-2
                required:
                  - handleValidationAction
              then:
                properties:
                  handlerContainer: *ref_22
                required:
                  - handlerContainer
        properties:
          errorThrowing:
            type: boolean
          retryCount:
            oneOf:
              - *ref_0
              - *ref_29
            default: 0
            title: Retry count
            description: >
              Specifies number of retries for the call before it considers as
              failed.
          retryDelay:
            oneOf:
              - *ref_0
              - *ref_29
            default: 5000
            title: Retry delay (ms)
            description: Specifies delay between retries in millis.
          before: &ref_61
            oneOf:
              - type: object
                allOf:
                  - *ref_22
                properties:
                  type:
                    const: mapper-2
                required:
                  - type
              - type: object
                allOf:
                  - *ref_21
                properties:
                  type:
                    const: script
                required:
                  - type
          after:
            type: array
            items: &ref_68
              type: object
              anyOf:
                - *ref_61
                - not:
                    type: object
                    properties:
                      type:
                        enum:
                          - script
                          - mapper-2
                    required:
                      - type
              properties:
                id:
                  type: string
                code:
                  type: string
                label:
                  type: string
                wildcard:
                  type: boolean
          authorizationConfiguration:
            oneOf:
              - &ref_62
                type: object
                properties:
                  type:
                    const: none
              - &ref_63
                type: object
                properties:
                  type:
                    const: basic
                  data:
                    type: object
                    properties:
                      username:
                        type: string
                      password:
                        type: string
                    required:
                      - username
                      - password
              - &ref_64
                type: object
                properties:
                  type:
                    const: bearer
                  data:
                    type: object
                    properties:
                      token:
                        type: string
                    required:
                      - token
              - &ref_65
                type: object
                properties:
                  type:
                    const: m2m
        required:
          - retryCount
          - retryDelay
        if:
          properties:
            integrationOperationProtocolType:
              const: http
        then:
          properties:
            afterValidation:
              type: array
              items: &ref_66
                type: object
                properties:
                  code:
                    type: string
                  contentType:
                    type: string
                  id:
                    type: string
                  label:
                    type: string
                  schema:
                    type: string
                  type:
                    const: responseValidation
    definitions:
      AuthorizationNone: *ref_62
      AuthorizationBasic: *ref_63
      AuthorizationBearerToken: *ref_64
      AuthorizationM2MToken: *ref_65
      ResponseValidation: *ref_66
      ExchangeTransformation: *ref_61
      ValidationFailureHandler: *ref_67
      ResponseHandler: *ref_68
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: SFTP Download
    properties:
      type:
        type: string
        const: sftp-download
      properties:
        type: object
        properties:
          connectUrl:
            type: string
            title: Host:Port/Directory
            description: Connection url
          antInclude:
            type: string
            title: File Name (mask supported)
          username:
            type: string
            title: Username
          password:
            type: string
            title: Password
            description: >
              For security purposes, use reference to secured variables when
              entering passwords.
          idempotent:
            type: boolean
            title: Do not download files with same filekey
            default: false
          idempotentKey:
            type: string
            title: Filekey string
            default: ${file:name}-${file:size}-${file:modified}
          streamDownload:
            type: boolean
            title: Stream download (big filesize)
            default: true
          binary:
            type: boolean
            title: Binary
            description: >
              Specifies the file transfer mode, BINARY or ASCII. Default is
              ASCII (false).
            default: true
          autoCreate:
            type: boolean
            title: Create directory to file
            default: false
          useUserKnownHostsFile:
            type: boolean
            default: false
          sendEmptyMessageWhenIdle:
            type: boolean
            title: Send Empty message when Idle
            default: true
          throwExceptionOnConnectFailed:
            type: boolean
            title: Throw exception if Connection fails
            default: true
        required:
          - connectUrl
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: SFTP Trigger
    properties:
      type:
        type: string
        const: sftp-trigger-2
      properties:
        type: object
        properties:
          connectUrl:
            type: string
          antInclude:
            type: string
          binary:
            type: boolean
            title: Binary
            description: >
              Specifies the file transfer mode, BINARY or ASCII. Default is
              ASCII (false).
            default: true
          idempotent:
            type: boolean
            title: Do not download files with same filekey
            default: false
          idempotentKey:
            type: string
            title: Filekey string
            default: ${file:name}-${file:size}-${file:modified}
          ignoreFileNotFoundOrPermissionError:
            type: boolean
            default: true
          jschLoggingLevel:
            type: string
            default: 'OFF'
          password:
            type: string
            title: Password
            description: >
              For security purposes, use reference to secured variables when
              entering passwords.
          readLockLoggingLevel:
            type: string
            default: 'OFF'
          runLoggingLevel:
            type: string
          scheduler:
            type: string
            title: Scheduler type
            default: quartz
          scheduler.cron:
            type: string
          scheduler.deleteJob:
            type: boolean
            title: Scheduler deleteJob parameter
            default: false
          scheduler.triggerGroup:
            type: string
            title: Scheduler triggerGroup
            default: '%%{domain-placeholder}-group'
          streamDownload:
            type: boolean
            title: Stream download (big filesize)
            default: true
          username:
            type: string
            title: Username
          useUserKnownHostsFile:
            type: boolean
            default: false
          autoCreate:
            type: boolean
            title: Create directory to file
            default: false
        required:
          - connectUrl
          - scheduler.cron
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: SFTP Upload
    properties:
      type:
        type: string
        const: sftp-upload
      properties:
        type: object
        properties:
          connectUrl:
            type: string
            title: Host:Port/Directory
            description: Connection url
          fileName:
            type: string
            title: File Name
            description: >
              Use Expression such as File Language to dynamically set the file
              name.
          autoCreate:
            type: boolean
            title: Create directory to file
          username:
            type: string
            title: Username
          password:
            type: string
            title: Password
            description: >
              For security purposes, use reference to secured variables when
              entering passwords.
          allowNullBody:
            type: boolean
            title: Allow null body
            default: true
          binary:
            type: boolean
            title: Binary
            description: >
              Specifies the file transfer mode, BINARY or ASCII. Default is
              ASCII (false).
            default: true
          throwExceptionOnConnectFailed:
            type: boolean
            title: Throw exception if Connection fails
            default: true
          useUserKnownHostsFile:
            type: boolean
            default: false
        required:
          - connectUrl
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Split
    properties:
      type:
        type: string
        const: split-2
      children:
        type: array
        items:
          anyOf:
            - type: object
            - type: object
      properties:
        type: object
        properties:
          timeout:
            allOf:
              - *ref_0
            title: Timeout
            description: Sets a total timeout specified in millis
            default: 0
          stopOnException:
            type: boolean
            title: Stop On Exception
            description: >
              Stop further processing if an exception or failure occurred during
              processing.
            default: true
          aggregationStrategy:
            type: string
            title: Aggregation Strategy
            description: Define reference to Aggregation processor.
            default: chainsAggregationStrategy
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Split Async
    properties:
      type:
        type: string
        const: split-async-2
      children:
        type: array
        items:
          anyOf:
            - type: object
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Swimlane
    description: |
      Group elements, that will be represented in UI as Swimlanes.
    properties:
      type:
        type: string
        const: swimlane
      properties:
        type: object
        properties:
          color: &ref_69
            enum:
              - Blue
              - Green
              - Yellow
              - Purple
              - Lagoon
              - Brown
        additionalProperties: false
    definitions:
      Color: *ref_69
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: Try-Catch-Finally
    properties:
      type:
        type: string
        const: try-catch-finally-2
      children:
        type: array
        items:
          anyOf:
            - type: object
            - type: object
            - type: object
      properties:
        type: object
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
    title: XSLT
    properties:
      type:
        type: string
        const: xslt
      properties:
        type: object
        properties:
          templateName:
            type: string
            title: Template name (path to local file)
        required:
          - templateName
        additionalProperties: false
    required:
      - type
  - $schema: http://json-schema.org/draft-07/schema
    type: object
    allOf:
      - *ref_11
      - *ref_57
    title: Container
    properties:
      type:
        type: string
        const: container
      properties:
        type: object
        additionalProperties: false
    required:
      - type
required:
  - type
title: Chain element
